System.register(["./chakra-legacy-0hWQw7Oq.js","./index-legacy-q-mJBn-s.js","./react-legacy-KN5lAqTZ.js","./index.esm-legacy-EE4yblBw.js"],(function(e,n){"use strict";var t,a,o,l,i,s,r,c,u,d,p,v,g,h,x,m,j,b,y,f,k;return{setters:[e=>{t=e.j,a=e.$,o=e.G,l=e.B,i=e.F},e=>{s=e.u,r=e.M,c=e.W,u=e.h,d=e.X,p=e.L},e=>{v=e.l,g=e.r,h=e.a},e=>{x=e.R,m=e.M,j=e.e,b=e.f,y=e.g,f=e.h,k=e.d}],execute:function(){function n(){const{i18n:e}=v();return n=>{var t,a;return null!==(t=null!==(a=e.languages.map((e=>n[e])).find((e=>void 0!==e)))&&void 0!==a?a:n.en)&&void 0!==t?t:"(Translation Error)"}}e({L:function(e){const{lineDetail:l,editable:s,onUpdate:r,onMoveUp:c,onMoveDown:u,onCopy:p,onRemove:h,onNameUpdate:x,onLangSwitch:m,onNameRemove:C}=e,{t:w}=v(),R=n(),[M,L]=g.useState(!1),U=g.useMemo((()=>({bg:l.colour,m:-1,w:"calc(100% + var(--chakra-space-1) * 2)",px:2,"&, button":{color:l.fg},"& > div:first-of-type":{overflow:"hidden",textWrap:"nowrap",textOverflow:"ellipsis"},"& > div:nth-of-type(2)":{ml:"auto"}})),[l.colour,l.fg]),E=R(Object.fromEntries(l.nameEntity));return t.jsxs(d,{direction:"column",sx:{pb:0},children:[t.jsxs(d,{sx:U,children:[t.jsx("div",{children:E}),s&&t.jsxs(a,{spacing:.5,children:[t.jsx(o,{size:"xs",variant:"ghost","aria-label":w("Move up"),title:w("Move up"),icon:t.jsx(b,{}),onClick:c}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":w("Move down"),title:w("Move down"),icon:t.jsx(y,{}),onClick:u}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":w("Edit"),title:w("Edit"),icon:t.jsx(f,{}),onClick:()=>L((e=>!e))}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":w("Duplicate"),title:w("Duplicate"),icon:t.jsx(k,{}),onClick:p}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":w("Remove"),title:w("Remove"),icon:t.jsx(j,{}),onClick:h})]})]}),M&&t.jsxs(i,{direction:"column",position:"relative",my:1,children:[t.jsx(z,{lineDetail:l,onUpdate:e=>null==r?void 0:r(e)}),t.jsx(S,{entries:l.nameEntity,onUpdate:(e,n)=>null==x?void 0:x(e,n),onLangSwitch:(e,n)=>null==m?void 0:m(e,n),onRemove:e=>null==C?void 0:C(e)})]}),!s&&t.jsx(i,{direction:"column",my:1,children:t.jsx(D,{lineDetail:l})})]})},M:function(e){return t.jsx(d,{direction:"column",children:t.jsx(S,{...e})})},u:n});const C=e=>`{ getColor(code:"${e}") { code, rgb { r g b }, hex, cmyk { c m y k } } }`,w=e("g",(async(e,n)=>{const t=await fetch("https://4n6dg5ccsfct3lzfssu34boemq.appsync-api.us-east-1.amazonaws.com/graphql",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"da2-sa3lsp2tkzhj3c2ysxbdprl73e"},body:JSON.stringify({query:C(e)}),signal:n});return"#"+(await t.json()).data.getColor.hex}));function z(e){var n;const{lineDetail:a,onUpdate:o}=e,{t:l}=v(),{pantoneReady:i}=s((e=>e.app)),[d,p]=g.useState(!!a.pantone),[m,j]=g.useState(null!==(n=a.pantone)&&void 0!==n?n:""),[b,y]=g.useState(!1),f=g.useRef(new AbortController);g.useEffect((()=>()=>{var e;null===(e=f.current)||void 0===e||e.abort()}),[]);const k=[{label:l("Yes"),value:!0},{label:l("No"),value:!1}],C=[{label:l("Black"),value:r.black},{label:l("White"),value:r.white}],z=[{type:"input",label:l("Line code"),placeholder:"e.g. twl, gz1, sh1",value:a.id,onChange:e=>o({id:e}),validator:e=>""!==e&&!e.match(/[^a-z0-9]/)},{type:"input",label:l("Background colour"),variant:d?"text":"color",value:a.colour,onChange:e=>o({colour:e}),isDisabled:i&&d},{type:"custom",label:l("Use Pantone"),component:t.jsx(c,{selections:k,defaultValue:d,onChange:e=>p(e)}),hidden:!i},{type:"input",label:l("Pantone code"),value:m,onChange:async e=>{if(f.current.abort(),i){f.current=new AbortController,y(!0);try{const n=await w(e,f.current.signal);o({pantone:e,colour:n}),j(e)}catch(t){var n;h.flushSync((()=>{j(e)})),j(null!==(n=a.pantone)&&void 0!==n?n:"")}finally{y(!1)}}},debouncedDelay:1500,hidden:!i||!d},{type:"custom",label:l("Foreground colour"),component:t.jsx(c,{selections:C,defaultValue:a.fg,onChange:e=>o({fg:e})})}];return t.jsxs(t.Fragment,{children:[b&&t.jsx(u,{isIndeterminate:!0}),t.jsx(x,{fields:z})]})}const R={"& > div:first-of-type":{flex:1}},S=e=>{var i;const{onUpdate:s,onLangSwitch:r,onRemove:c}=e,u=null!==(i=e.entries)&&void 0!==i?i:[],{t:d}=v(),g=n(),h=(e,n)=>[{type:"select",label:d("Language"),value:e,options:Object.entries(p).reduce(((e,n)=>({...e,[n[0]]:g(n[1])})),{}),disabledOptions:u.filter((n=>n[0]!==e)).map((e=>e[0])),onChange:n=>r(e,n)},{type:"input",label:d("Name"),value:n,onChange:n=>s(e,n),validator:e=>!!e}],b=()=>{const e=Object.keys(p).filter((e=>!u.find((n=>n[0]===e))))[0];s(e,"")};return t.jsx(t.Fragment,{children:u.map((([e,n],i,s)=>t.jsxs(a,{sx:R,"data-testid":"entry-card-stack-"+e,children:[t.jsx(x,{fields:h(e,n),noLabel:i>0}),i===s.length-1?t.jsx(o,{size:"sm",variant:"ghost","aria-label":d("Add a name in another language"),title:d("Add a name in another language"),onClick:b,icon:t.jsx(m,{})}):t.jsx(l,{minW:8}),s.length>1&&t.jsx(o,{size:"sm",variant:"ghost","aria-label":d("Remove this name"),title:d("Remove this name"),onClick:()=>c(e),icon:t.jsx(j,{})})]},i)))})};function D(e){const{lineDetail:n}=e,{t:a}=v(),o=[{type:"output",label:a("Line code"),value:n.id},{type:"output",label:a("Background colour"),value:n.colour},{type:"output",label:a("Pantone code"),value:n.pantone,hidden:!n.pantone},{type:"output",label:a("Foreground colour"),value:n.fg===r.black?a("Black"):a("White")}];return t.jsx(x,{fields:o})}}}}));
