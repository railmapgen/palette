System.register(["./chakra-legacy-BOtnEfeP.js","./index-legacy-0F6MLIjb.js","./react-legacy-CIVklJVK.js","./pantone-input-legacy-B9Na6mFw.js"],(function(e,n){"use strict";var t,a,o,l,i,s,c,r,u,d,p,x,v,h,g,j,m,b,f,y,k;return{setters:[e=>{t=e.j,a=e.ad,o=e.$,l=e.B,i=e.F},e=>{s=e.u,c=e.M,r=e.X,u=e.Y,d=e.L},e=>{p=e.n,x=e.a},e=>{v=e.P,h=e.R,g=e.u,j=e.M,m=e.e,b=e.f,f=e.g,y=e.h,k=e.d}],execute:function(){function n(e){const{lineDetail:n,onUpdate:a}=e,{t:o}=p(),{pantoneReady:l}=s((e=>e.app)),[i,u]=x.useState(!!n.pantone),d=[{label:o("Yes"),value:!0},{label:o("No"),value:!1}],g=[{label:o("Black"),value:c.black},{label:o("White"),value:c.white}],j=[{type:"input",label:o("Line code"),placeholder:"e.g. twl, gz1, sh1",value:n.id,onChange:e=>a({id:e}),validator:e=>""!==e&&!e.match(/[^a-z0-9]/)},{type:"input",label:o("Background colour"),variant:i?"text":"color",value:n.colour,onChange:e=>a({colour:e,pantone:void 0}),isDisabled:l&&i},{type:"custom",label:o("Use Pantone®"),component:t.jsx(r,{selections:d,defaultValue:i,onChange:e=>u(e)}),hidden:!l},{type:"custom",label:o("Pantone® code"),component:t.jsx(v,{value:n.pantone??"",onChange:(e,n)=>a({pantone:e,colour:n})}),hidden:!l||!i},{type:"custom",label:o("Foreground colour"),component:t.jsx(r,{selections:g,defaultValue:n.fg,onChange:e=>a({fg:e})})}];return t.jsx(h,{fields:j})}e({L:function(e){const{lineDetail:l,editable:s,onUpdate:c,onMoveUp:r,onMoveDown:d,onCopy:v,onRemove:h,onNameUpdate:j,onLangSwitch:C,onNameRemove:R}=e,{t:z}=p(),D=g(),[L,U]=x.useState(!1),S=x.useMemo((()=>({bg:l.colour,m:-1,w:"calc(100% + var(--chakra-space-1) * 2)",px:2,"&, button":{color:l.fg},"& > div:first-of-type":{overflow:"hidden",textWrap:"nowrap",textOverflow:"ellipsis"},"& > div:nth-of-type(2)":{ml:"auto"}})),[l.colour,l.fg]),B=D(Object.fromEntries(l.nameEntity));return t.jsxs(u,{direction:"column",sx:{pb:0},children:[t.jsxs(u,{sx:S,children:[t.jsx("div",{children:B}),s&&t.jsxs(a,{spacing:.5,children:[t.jsx(o,{size:"xs",variant:"ghost","aria-label":z("Move up"),title:z("Move up"),icon:t.jsx(b,{}),onClick:r}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":z("Move down"),title:z("Move down"),icon:t.jsx(f,{}),onClick:d}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":z("Edit"),title:z("Edit"),icon:t.jsx(y,{}),onClick:()=>U((e=>!e))}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":z("Duplicate"),title:z("Duplicate"),icon:t.jsx(k,{}),onClick:v}),t.jsx(o,{size:"xs",variant:"ghost","aria-label":z("Remove"),title:z("Remove"),icon:t.jsx(m,{}),onClick:h})]})]}),L&&t.jsxs(i,{direction:"column",position:"relative",my:1,children:[t.jsx(n,{lineDetail:l,onUpdate:e=>c?.(e)}),t.jsx(w,{entries:l.nameEntity,onUpdate:(e,n)=>j?.(e,n),onLangSwitch:(e,n)=>C?.(e,n),onRemove:e=>R?.(e)})]}),!s&&t.jsx(i,{direction:"column",my:1,children:t.jsx(M,{lineDetail:l})})]})},M:function(e){return t.jsx(u,{direction:"column",children:t.jsx(w,{...e})})}});const C={"& > div:first-of-type":{flex:1}},w=e=>{const{onUpdate:n,onLangSwitch:i,onRemove:s}=e,c=e.entries??[],{t:r}=p(),u=g(),x=(e,t)=>[{type:"select",label:r("Language"),value:e,options:Object.entries(d).reduce(((e,n)=>({...e,[n[0]]:u(n[1])})),{}),disabledOptions:c.filter((n=>n[0]!==e)).map((e=>e[0])),onChange:n=>i(e,n)},{type:"input",label:r("Name"),value:t,onChange:t=>n(e,t),validator:e=>!!e}],v=()=>{const e=Object.keys(d).filter((e=>!c.find((n=>n[0]===e))))[0];n(e,"")};return t.jsx(t.Fragment,{children:c.map((([e,n],i,c)=>t.jsxs(a,{sx:C,"data-testid":"entry-card-stack-"+e,children:[t.jsx(h,{fields:x(e,n),noLabel:i>0}),i===c.length-1?t.jsx(o,{size:"sm",variant:"ghost","aria-label":r("Add a name in another language"),title:r("Add a name in another language"),onClick:v,icon:t.jsx(j,{})}):t.jsx(l,{minW:8}),c.length>1&&t.jsx(o,{size:"sm",variant:"ghost","aria-label":r("Remove this name"),title:r("Remove this name"),onClick:()=>s(e),icon:t.jsx(m,{})})]},i)))})};function M(e){const{lineDetail:n}=e,{t:a}=p(),o=[{type:"output",label:a("Line code"),value:n.id},{type:"output",label:a("Background colour"),value:n.colour},{type:"output",label:a("Pantone® code"),value:n.pantone,hidden:!n.pantone},{type:"output",label:a("Foreground colour"),value:n.fg===c.black?a("Black"):a("White")}];return t.jsx(h,{fields:o})}}}}));
